{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sarag\\\\OneDrive\\\\Desktop\\\\JumboHack 2025\\\\TuftsTasteTesters\\\\frontend\\\\src\\\\Rating.js\",\n  _s = $RefreshSig$();\n// export default Rating;\nimport React, { useState, useEffect } from 'react';\nimport './Rating.css'; // Import the Rating styles\nimport 'boxicons'; // Import the Boxicons CSS\nimport confetti from 'canvas-confetti';\n\n// const handleLogout = () => {\n//   localStorage.clear();  // Clear all items\n//   // Or use removeItem to clear a specific item\n//   // localStorage.removeItem('user');\n//   console.log('Local storage cleared!');\n// };\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Rating = ({\n  iconType = 'star'\n}) => {\n  _s();\n  const [ratings, setRatings] = useState([]); // Store the array of ratings\n  const [userRating, setUserRating] = useState(0); // Current rating selected by the user\n  const [hoveredRating, setHoveredRating] = useState(0); // To display the hovered icons for preview\n  const [isSubmitted, setIsSubmitted] = useState(false); // Track if the rating has been submitted\n\n  // Function to calculate the average rating\n  const calculateAverageRating = () => {\n    if (ratings.length === 0) return 0; // Avoid division by zero if no ratings yet\n    const total = ratings.reduce((acc, rating) => acc + rating, 0);\n    const average = total / ratings.length;\n    return Math.round(average); // Round to the nearest integer\n  };\n\n  // Function to trigger confetti animation\n  const triggerConfetti = () => {\n    confetti({\n      particleCount: 75,\n      // Number of confetti particles\n      spread: 75,\n      // Spread angle\n      origin: {\n        x: 0.5,\n        y: 0.5\n      },\n      // Origin (center of the screen)\n      colors: ['#000080', '#87ceeb', '#8b4513']\n    });\n  };\n\n  // Function to load ratings from localStorage\n  const loadRatings = () => {\n    const storedRatings = JSON.parse(localStorage.getItem('ratings'));\n    if (storedRatings) {\n      setRatings(storedRatings); // Load ratings from localStorage if available\n    }\n  };\n\n  // Store the ratings to localStorage whenever ratings change\n  const saveRatings = updatedRatings => {\n    localStorage.setItem('ratings', JSON.stringify(updatedRatings));\n  };\n\n  // Effect to load ratings on component mount\n  useEffect(() => {\n    loadRatings();\n  }, []);\n\n  // Handle the user clicking on an icon to select the rating\n  const handleIconClick = rating => {\n    if (!isSubmitted) {\n      setUserRating(rating); // Update the selected rating\n    }\n  };\n\n  // Handle mouse hover over an icon for preview\n  const handleIconHover = rating => {\n    if (!isSubmitted) {\n      setHoveredRating(rating); // Set the rating for hover preview\n    }\n  };\n\n  // Handle mouse leave to reset hover effect\n  const handleMouseLeave = () => {\n    if (!isSubmitted) {\n      setHoveredRating(0); // Reset hover rating only if not submitted\n    }\n  };\n\n  // Handle form submission to add the user's rating\n  const handleRatingSubmit = e => {\n    e.preventDefault();\n    if (userRating >= 1 && userRating <= 5) {\n      const updatedRatings = [...ratings, userRating]; // Add the rating to the ratings array\n      setRatings(updatedRatings); // Update state with new ratings array\n      saveRatings(updatedRatings); // Save the new ratings array to localStorage\n      setIsSubmitted(true); // Mark as submitted\n      triggerConfetti();\n    } else {\n      alert('Please select a rating between 1 and 5!');\n    }\n  };\n\n  // const averageRating = calculateAverageRating();\n\n  // // Generate the appropriate icon for stars or people based on the iconType\n  // const renderIcon = (type, filled) => {\n  //   const color = type === 'star' ? '#f7c21a' : '#88ddf5'; // Set color for star or person\n  //   if (type === 'star') {\n  //     return filled ? (\n  //       <box-icon name=\"star\" type=\"solid\" color={color}></box-icon>\n  //     ) : (\n  //       <box-icon name=\"star\" color={color}></box-icon>\n  //     );\n  //   } else if (type === 'person') {\n  //     return filled ? (\n  //       <box-icon name=\"user\" type=\"solid\" color={color}></box-icon>\n  //     ) : (\n  //       <box-icon name=\"user\" color={color}></box-icon>\n  //     );\n  //   }\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [...Array(averageRating)].map((_, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n        children: renderIcon(iconType, true)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Average Rating: \", averageRating, \" / 5\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Your Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"icon-rating\",\n      children: [1, 2, 3, 4, 5].map(icon => /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => handleIconClick(icon) // Set the rating when clicked\n        ,\n        onMouseEnter: () => handleIconHover(icon) // Show preview on hover\n        ,\n        onMouseLeave: handleMouseLeave // Reset on mouse leave\n        ,\n        children: renderIcon(iconType,\n        // Show filled icon based on the selected userRating, or temporarily based on hoveredRating\n        userRating >= icon || hoveredRating >= icon && userRating === 0)\n      }, icon, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), !isSubmitted && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRatingSubmit,\n      children: \"Submit Rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this), isSubmitted && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Your rating: \", userRating, \" / 5\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(Rating, \"dKGFCvrGnB6VkmcGSR9fkiRM7jM=\");\n_c = Rating;\nexport default Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["React","useState","useEffect","confetti","jsxDEV","_jsxDEV","Rating","iconType","_s","ratings","setRatings","userRating","setUserRating","hoveredRating","setHoveredRating","isSubmitted","setIsSubmitted","calculateAverageRating","length","total","reduce","acc","rating","average","Math","round","triggerConfetti","particleCount","spread","origin","x","y","colors","loadRatings","storedRatings","JSON","parse","localStorage","getItem","saveRatings","updatedRatings","setItem","stringify","handleIconClick","handleIconHover","handleMouseLeave","handleRatingSubmit","e","preventDefault","alert","children","Array","averageRating","map","_","index","renderIcon","fileName","_jsxFileName","lineNumber","columnNumber","className","icon","onClick","onMouseEnter","onMouseLeave","_c","$RefreshReg$"],"sources":["C:/Users/sarag/OneDrive/Desktop/JumboHack 2025/TuftsTasteTesters/frontend/src/Rating.js"],"sourcesContent":["\r\n// export default Rating;\r\nimport React, { useState, useEffect } from 'react';\r\nimport './Rating.css'; // Import the Rating styles\r\nimport 'boxicons'; // Import the Boxicons CSS\r\nimport confetti from 'canvas-confetti'; \r\n\r\n// const handleLogout = () => {\r\n//   localStorage.clear();  // Clear all items\r\n//   // Or use removeItem to clear a specific item\r\n//   // localStorage.removeItem('user');\r\n//   console.log('Local storage cleared!');\r\n// };\r\n\r\nconst Rating = ({ iconType = 'star' }) => {\r\n  const [ratings, setRatings] = useState([]); // Store the array of ratings\r\n  const [userRating, setUserRating] = useState(0); // Current rating selected by the user\r\n  const [hoveredRating, setHoveredRating] = useState(0); // To display the hovered icons for preview\r\n  const [isSubmitted, setIsSubmitted] = useState(false); // Track if the rating has been submitted\r\n\r\n  // Function to calculate the average rating\r\n  const calculateAverageRating = () => {\r\n    if (ratings.length === 0) return 0; // Avoid division by zero if no ratings yet\r\n    const total = ratings.reduce((acc, rating) => acc + rating, 0);\r\n    const average = total / ratings.length;\r\n    return Math.round(average); // Round to the nearest integer\r\n  };\r\n      \r\n  // Function to trigger confetti animation\r\n  const triggerConfetti = () => {\r\n    confetti({\r\n      particleCount: 75, // Number of confetti particles\r\n      spread: 75, // Spread angle\r\n      origin: { x: 0.5, y: 0.5 }, // Origin (center of the screen)\r\n      colors: ['#000080', '#87ceeb', '#8b4513'],\r\n    });\r\n  };\r\n    \r\n  // Function to load ratings from localStorage\r\n  const loadRatings = () => {\r\n    const storedRatings = JSON.parse(localStorage.getItem('ratings'));\r\n    if (storedRatings) {\r\n      setRatings(storedRatings); // Load ratings from localStorage if available\r\n    }\r\n  };\r\n\r\n  // Store the ratings to localStorage whenever ratings change\r\n  const saveRatings = (updatedRatings) => {\r\n    localStorage.setItem('ratings', JSON.stringify(updatedRatings));\r\n  };\r\n\r\n  // Effect to load ratings on component mount\r\n  useEffect(() => {\r\n    loadRatings();\r\n  }, []);\r\n\r\n  // Handle the user clicking on an icon to select the rating\r\n  const handleIconClick = (rating) => {\r\n    if (!isSubmitted) {\r\n      setUserRating(rating); // Update the selected rating\r\n    }\r\n  };\r\n\r\n  // Handle mouse hover over an icon for preview\r\n  const handleIconHover = (rating) => {\r\n    if (!isSubmitted) {\r\n      setHoveredRating(rating); // Set the rating for hover preview\r\n    }\r\n  };\r\n\r\n  // Handle mouse leave to reset hover effect\r\n  const handleMouseLeave = () => {\r\n    if (!isSubmitted) {\r\n      setHoveredRating(0); // Reset hover rating only if not submitted\r\n    }\r\n  };\r\n\r\n  // Handle form submission to add the user's rating\r\n  const handleRatingSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (userRating >= 1 && userRating <= 5) {\r\n      const updatedRatings = [...ratings, userRating]; // Add the rating to the ratings array\r\n      setRatings(updatedRatings); // Update state with new ratings array\r\n      saveRatings(updatedRatings); // Save the new ratings array to localStorage\r\n      setIsSubmitted(true); // Mark as submitted\r\n      triggerConfetti();\r\n    } else {\r\n      alert('Please select a rating between 1 and 5!');\r\n    }\r\n  };\r\n\r\n  // const averageRating = calculateAverageRating();\r\n\r\n  // // Generate the appropriate icon for stars or people based on the iconType\r\n  // const renderIcon = (type, filled) => {\r\n  //   const color = type === 'star' ? '#f7c21a' : '#88ddf5'; // Set color for star or person\r\n  //   if (type === 'star') {\r\n  //     return filled ? (\r\n  //       <box-icon name=\"star\" type=\"solid\" color={color}></box-icon>\r\n  //     ) : (\r\n  //       <box-icon name=\"star\" color={color}></box-icon>\r\n  //     );\r\n  //   } else if (type === 'person') {\r\n  //     return filled ? (\r\n  //       <box-icon name=\"user\" type=\"solid\" color={color}></box-icon>\r\n  //     ) : (\r\n  //       <box-icon name=\"user\" color={color}></box-icon>\r\n  //     );\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {/* Display the average rating using the chosen icon */}\r\n        {[...Array(averageRating)].map((_, index) => (\r\n          <span key={index}>{renderIcon(iconType, true)}</span>\r\n        ))}\r\n      </div>\r\n      <div>Average Rating: {averageRating} / 5</div>\r\n\r\n      <h4>Your Rating</h4>\r\n      <div className=\"icon-rating\">\r\n        {/* Create 5 icons (either stars or people) */}\r\n        {[1, 2, 3, 4, 5].map((icon) => (\r\n          <span\r\n            key={icon}\r\n            onClick={() => handleIconClick(icon)} // Set the rating when clicked\r\n            onMouseEnter={() => handleIconHover(icon)} // Show preview on hover\r\n            onMouseLeave={handleMouseLeave} // Reset on mouse leave\r\n          >\r\n            {/* Show filled icon if user rating or hovered rating is equal to or greater than the icon number */}\r\n            {renderIcon(\r\n              iconType,\r\n              // Show filled icon based on the selected userRating, or temporarily based on hoveredRating\r\n              userRating >= icon || (hoveredRating >= icon && userRating === 0) \r\n            )}\r\n          </span>\r\n        ))}\r\n      </div>\r\n      {/* Show Submit button only if not submitted yet */}\r\n      {!isSubmitted && (\r\n        <button onClick={handleRatingSubmit}>Submit Rating</button>\r\n      )}\r\n\r\n      {/* Show the submitted rating */}\r\n      {isSubmitted && (\r\n        <div>Your rating: {userRating} / 5</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}